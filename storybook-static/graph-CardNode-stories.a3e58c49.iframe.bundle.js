"use strict";(self.webpackChunkmy_ai_learning_graph=self.webpackChunkmy_ai_learning_graph||[]).push([[928],{"./components/graph/CardNode.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Available:()=>Available,Completed:()=>Completed,Locked:()=>Locked,__namedExportsOrder:()=>__namedExportsOrder,default:()=>CardNode_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),proxy=__webpack_require__("./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs"),trophy=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/trophy.js"),target=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/target.js"),circle_check_big=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/circle-check-big.js"),notebook_pen=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/notebook-pen.js"),columns_2=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/columns-2.js"),icons_link=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/link.js");const constants_clusterLabels={C1:"AI Era & Roles",C2:"Agents & Protocols",C3:"Design Patterns",C4:"Caching",C5:"Security",C6:"Prompt & Context",C7:"System Design",C8:"Observability",C9:"Testing & QA",C10:"Cost Control"},MAP_CONSTANTS={NODE:{WIDTH:{COMPACT:200,STANDARD:280,EXPANDED:320},HEIGHT:{COMPACT:120,STANDARD:160,EXPANDED:180},SPACING:{HORIZONTAL:160,VERTICAL:140,CLUSTER_GAP:220},BORDER_RADIUS:"12px"},CLUSTERS:{COLORS:{C1:{primary:"#0ea5e9",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"#0ea5e9",text:"#0c4a6e",accent:"#38bdf8"},C2:{primary:"#10b981",background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",border:"#10b981",text:"#064e3b",accent:"#34d399"},C3:{primary:"#f59e0b",background:"linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%)",border:"#f59e0b",text:"#92400e",accent:"#fbbf24"},C4:{primary:"#6366f1",background:"linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%)",border:"#6366f1",text:"#312e81",accent:"#818cf8"},C5:{primary:"#ef4444",background:"linear-gradient(135deg, #fef2f2 0%, #fecaca 100%)",border:"#ef4444",text:"#991b1b",accent:"#f87171"},C6:{primary:"#14b8a6",background:"linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 100%)",border:"#14b8a6",text:"#134e4a",accent:"#2dd4bf"},C7:{primary:"#d946ef",background:"linear-gradient(135deg, #fdf4ff 0%, #f5d0fe 100%)",border:"#d946ef",text:"#86198f",accent:"#e879f9"},C8:{primary:"#64748b",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",border:"#64748b",text:"#1e293b",accent:"#94a3b8"},C9:{primary:"#84cc16",background:"linear-gradient(135deg, #f7fee7 0%, #d9f99d 100%)",border:"#84cc16",text:"#365314",accent:"#a3e635"},C10:{primary:"#a855f7",background:"linear-gradient(135deg, #faf5ff 0%, #e9d5ff 100%)",border:"#a855f7",text:"#581c87",accent:"#c084fc"}},LAYOUT:{POSITIONS:{C1:{x:0,y:0},C2:{x:1,y:0},C3:{x:2,y:0},C4:{x:0,y:1},C5:{x:1,y:1},C6:{x:2,y:1},C7:{x:0,y:2},C8:{x:1,y:2},C9:{x:2,y:2},C10:{x:1,y:3}}}},STATUS:{LOCKED:{background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",border:"#d1d5db",text:"#6b7280",opacity:.6,icon:"ðŸ”’",glow:"none"},AVAILABLE:{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",border:"#3b82f6",text:"#1e40af",opacity:1,icon:"ðŸŽ¯",glow:"0 0 20px rgba(59, 130, 246, 0.3)",pulse:!0},IN_PROGRESS:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"#f59e0b",text:"#92400e",opacity:1,icon:"âš¡",glow:"0 0 15px rgba(245, 158, 11, 0.4)"},COMPLETED:{background:"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)",border:"#10b981",text:"#065f46",opacity:1,icon:"âœ…",glow:"0 0 25px rgba(16, 185, 129, 0.4)"},GOAL:{background:"linear-gradient(135deg, #fef3c7 0%, #fcd34d 100%)",border:"#eab308",text:"#a16207",opacity:1,icon:"ðŸŽ¯",glow:"0 0 30px rgba(234, 179, 8, 0.5)",pulse:!0,ring:"3px solid #eab308"}},EDGES:{DEFAULT:{stroke:"#94a3b8",strokeWidth:2,opacity:.6},ACTIVE_PATH:{stroke:"#eab308",strokeWidth:3,opacity:1,animated:!0,glow:"0 0 10px rgba(234, 179, 8, 0.5)"},CROSS_CLUSTER:{stroke:"#6b7280",strokeWidth:1.5,opacity:.3,strokeDasharray:"5,5"},COMPLETED_PATH:{stroke:"#10b981",strokeWidth:2.5,opacity:.8}},ANIMATIONS:{NODE_HOVER:{scale:1.05,duration:200,ease:"easeOut"},NODE_COMPLETE:{scale:[1,1.2,1],duration:600,ease:"easeInOut"},NODE_UNLOCK:{scale:[1,1.1,1],glow:[0,1,.7],duration:800,ease:"easeOut"},CLUSTER_FOCUS:{scale:1.02,duration:300,ease:"easeOut"},EDGE_DRAW:{strokeDashoffset:[100,0],duration:500,ease:"easeInOut"}},GAMIFICATION:{XP_COLORS:{LOW:"#84cc16",MEDIUM:"#f59e0b",HIGH:"#ef4444",EPIC:"#a855f7"},LEVEL_GLOW:{1:"0 0 15px rgba(132, 204, 22, 0.4)",2:"0 0 20px rgba(245, 158, 11, 0.4)",3:"0 0 25px rgba(239, 68, 68, 0.4)",4:"0 0 30px rgba(168, 85, 247, 0.4)"}},ZOOM:{MIN:.1,MAX:4,DEFAULT:1,LEVELS:{OVERVIEW:.3,CLUSTER:1,DETAIL:2.2}}};function clamp(value,min,max){return Math.max(min,Math.min(max,value))}function hexToRgb(hex){const res=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return res?{r:parseInt(res[1],16),g:parseInt(res[2],16),b:parseInt(res[3],16)}:null}function rgbToHex(r,g,b){const toHex=n=>clamp(Math.round(n),0,255).toString(16).padStart(2,"0");return`#${toHex(r)}${toHex(g)}${toHex(b)}`}function relativeLuminance({r,g,b}){const linear=[r,g,b].map(v=>v/255).map(v=>v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4));return.2126*linear[0]+.7152*linear[1]+.0722*linear[2]}function contrastRatio(hex1,hex2){const a=hexToRgb(hex1),b=hexToRgb(hex2);if(!a||!b)return 1;const L1=relativeLuminance(a),L2=relativeLuminance(b),[hi,lo]=L1>L2?[L1,L2]:[L2,L1];return(hi+.05)/(lo+.05)}function progressToColor(baseHex,pct){const base=hexToRgb(baseHex)||{r:59,g:130,b:246},t=clamp(pct,0,100)/100,mixed=function mixColors(rgb,whitePct){const w=clamp(whitePct,0,1);return{r:rgb.r*(1-w)+255*w,g:rgb.g*(1-w)+255*w,b:rgb.b*(1-w)+255*w}}(base,.75*(1-t)+.1*t);let out=rgbToHex(mixed.r,mixed.g,mixed.b);const crWhite=contrastRatio(out,"#FFFFFF"),crBlack=contrastRatio(out,"#000000");if(Math.max(crWhite,crBlack)<4.5){const targetWhite=crWhite>crBlack,rgb=hexToRgb(out),factor=targetWhite?.9:1.1;out=rgbToHex(rgb.r*factor,rgb.g*factor,rgb.b*factor)}return out}const CardNode=({data,selected})=>{const{topic,status,compact,reviewed,note,goalId,onToggleDone,onToggleReviewed,onSaveNote,onSetGoal,highlightType,progressPct=0}=data,completed="completed"===status,locked="locked"===status,isGoal=goalId===topic.id,[open,setOpen]=react.useState(!1),base=compact?"rounded-lg border-2 p-2 shadow-sm min-w-[180px] max-w-[280px]":"rounded-2xl border-2 p-3 shadow-sm min-w-[220px] max-w-[320px] sm:min-w-[260px] sm:max-w-[360px]",clusterStyle=(clusterId=topic.cluster,MAP_CONSTANTS.CLUSTERS.COLORS[clusterId]||MAP_CONSTANTS.CLUSTERS.COLORS.C8);var clusterId;const statusClasses=""+(locked?"opacity-60":""),selectedRing=selected?"ring-2 ring-yellow-400 shadow-lg":"",highlightGlow="primary"===highlightType?"0 0 0 2px rgba(59,130,246,0.6), 0 4px 12px rgba(59,130,246,0.25)":"dependency"===highlightType?"0 0 0 2px rgba(245,158,11,0.6), 0 4px 12px rgba(245,158,11,0.25)":"dependent"===highlightType?"0 0 0 2px rgba(16,185,129,0.6), 0 4px 12px rgba(16,185,129,0.25)":void 0;return(0,jsx_runtime.jsxs)(proxy.P.div,{whileHover:{scale:1.05},whileTap:{scale:.98},className:`${base} ${statusClasses} ${selectedRing} ${isGoal?"ring-2 ring-yellow-400 shadow-lg":""}`,style:{background:"#ffffff",borderColor:progressToColor({locked:"#cbd5e1",available:"#93c5fd",completed:"#10b981"}[status],progressPct),color:clusterStyle.text,boxShadow:highlightGlow},transition:{type:"spring",stiffness:300,damping:20},children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,jsx_runtime.jsx)("span",{className:"badge text-xs",style:{background:clusterStyle.background,color:clusterStyle.text},children:constants_clusterLabels[topic.cluster]||topic.cluster}),(0,jsx_runtime.jsxs)("div",{className:"ml-auto flex items-center gap-1 sm:gap-2",children:[(0,jsx_runtime.jsxs)("span",{className:"badge text-[10px] "+(completed?"bg-emerald-100":"bg-gray-100"),children:[Math.round(progressPct),"%"]}),completed&&(0,jsx_runtime.jsx)(trophy.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-600"}),isGoal&&(0,jsx_runtime.jsx)(target.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-600"}),(0,jsx_runtime.jsxs)("span",{className:"badge text-xs",children:[topic.xp," XP"]})]})]}),(0,jsx_runtime.jsx)("div",{className:"mt-2 font-medium text-sm sm:text-base leading-tight",children:topic.label}),!compact&&(0,jsx_runtime.jsxs)("div",{className:"mt-2 text-xs text-neutral-500 leading-tight",children:["Deps: ",topic.deps.length?topic.deps.join(", "):"None"]}),!compact&&(0,jsx_runtime.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-1 sm:gap-2",children:[(0,jsx_runtime.jsxs)("button",{className:"btn text-xs sm:text-sm px-2 py-1 sm:px-3 sm:py-2 "+(completed?"btn-outline":"btn-primary"),onClick:()=>!locked&&onToggleDone(topic.id),disabled:locked,children:[(0,jsx_runtime.jsx)(circle_check_big.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 inline"})," ",completed?"Undo":locked?"Locked":"Done"]}),(0,jsx_runtime.jsxs)("button",{className:"btn btn-outline text-xs sm:text-sm px-2 py-1 sm:px-3 sm:py-2",onClick:()=>onToggleReviewed(topic.id),children:[(0,jsx_runtime.jsx)(notebook_pen.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 inline"})," ",reviewed?"âœ“":"Review"]}),(0,jsx_runtime.jsxs)("button",{className:"btn btn-outline text-xs sm:text-sm px-2 py-1 sm:px-3 sm:py-2",onClick:()=>setOpen(!open),children:[(0,jsx_runtime.jsx)(columns_2.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 inline"})," ",open?"Hide":"Details"]}),(0,jsx_runtime.jsxs)("button",{className:"btn text-xs sm:text-sm px-2 py-1 sm:px-3 sm:py-2 "+(isGoal?"btn-primary":"btn-outline"),onClick:()=>onSetGoal(isGoal?"":topic.id),children:[(0,jsx_runtime.jsx)(target.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 inline"}),isGoal?"Clear":"Goal"]})]}),open&&(0,jsx_runtime.jsxs)("div",{className:"mt-3 border-t pt-3 text-sm",children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,jsx_runtime.jsx)("span",{className:"badge text-xs",children:"Resources"}),(0,jsx_runtime.jsx)("span",{className:"badge text-xs",children:"Notes"})]}),topic.links&&topic.links.length>0?(0,jsx_runtime.jsx)("ul",{className:"list-disc ml-4 sm:ml-5 text-xs space-y-1",children:topic.links.map((l,i)=>(0,jsx_runtime.jsxs)("li",{className:"flex items-center gap-1",children:[(0,jsx_runtime.jsx)(icons_link.A,{className:"w-3 h-3 flex-shrink-0"}),(0,jsx_runtime.jsx)("a",{className:"underline hover:text-blue-600 transition-colors break-words",href:l.url,target:"_blank",rel:"noreferrer",children:l.label})]},i))}):(0,jsx_runtime.jsx)("div",{className:"text-xs text-neutral-500",children:"No links yet â€” add in data/graphData.json"}),(0,jsx_runtime.jsx)("textarea",{className:"mt-2 w-full border rounded-md p-2 text-xs focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:compact?2:3,placeholder:"Your notesâ€¦",value:note||"",onChange:e=>onSaveNote(topic.id,e.target.value)})]})]})};CardNode.__docgenInfo={description:"",methods:[],displayName:"CardNode"};const CardNode_stories={title:"Graph/CardNode",component:CardNode,parameters:{layout:"centered"}},baseData=(overrides={})=>({topic:{id:"n1",label:"Learn React",cluster:"foundations",deps:[],xp:50,links:[{label:"Official Docs",url:"https://react.dev"}]},status:"available",compact:!1,reviewed:!1,note:"",goalId:"",onToggleDone:()=>{},onToggleReviewed:()=>{},onSaveNote:()=>{},onSetGoal:()=>{},highlightType:null,progressPct:25,...overrides}),Available={args:{id:"node-1",data:baseData(),selected:!1,xPos:0,yPos:0,isConnectable:!1,dragging:!1,zIndex:0,type:"card"}},Completed={args:{...Available.args,data:baseData({status:"completed",progressPct:100})}},Locked={args:{...Available.args,data:baseData({status:"locked",progressPct:0})}},__namedExportsOrder=["Available","Completed","Locked"];Available.parameters={...Available.parameters,docs:{...Available.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "node-1",\n    data: baseData(),\n    selected: false,\n    xPos: 0,\n    yPos: 0,\n    isConnectable: false,\n    dragging: false,\n    zIndex: 0,\n    type: "card"\n  }\n}',...Available.parameters?.docs?.source}}},Completed.parameters={...Completed.parameters,docs:{...Completed.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Available.args,\n    data: baseData({\n      status: "completed",\n      progressPct: 100\n    })\n  }\n}',...Completed.parameters?.docs?.source}}},Locked.parameters={...Locked.parameters,docs:{...Locked.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Available.args,\n    data: baseData({\n      status: "locked",\n      progressPct: 0\n    })\n  }\n}',...Locked.parameters?.docs?.source}}}}}]);